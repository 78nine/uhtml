!function(){"use strict";let t=1;const e=t=>Math.round(1e3*Math.random())%t,n=(n,s,l)=>{const a=["pretty","large","big","small","tall","short","long","handsome","plain","quaint","clean","elegant","easy","angry","crazy","helpful","mushy","odd","unsightly","adorable","important","inexpensive","cheap","expensive","fancy"],r=["red","yellow","blue","green","pink","brown","purple","brown","white","black","orange"],o=["table","chair","house","bbq","desk","car","pony","cookie","sandwich","burger","pizza","mouse","keyboard"];for(let c=0;c<n;c++)l.push({id:t,html:s(l,t++),label:a[e(a.length)]+" "+r[e(r.length)]+" "+o[e(o.length)]})},s=(t,e,n)=>{n[e]={...t,label:t.label+" !!!"}},l=t=>{t.label+=" !!!"},{isArray:a}=Array,{getPrototypeOf:r,getOwnPropertyDescriptor:o}=Object,c=[],i=()=>document.createRange(),d=(t,e,n)=>(t.set(e,n),n),{setPrototypeOf:u}=Object;let p;const h=({firstChild:t,lastChild:e},n)=>((t,e,n)=>(p||(p=i()),n?p.setStartAfter(t):p.setStartBefore(t),p.setEndAfter(e),p.deleteContents(),t))(t,e,n);let b=!1;const m=(t,e)=>b&&11===t.nodeType?1/e<0?e?h(t,!0):t.lastChild:e?t.valueOf():t.firstChild:t;class g extends((t=>{function e(t){return u(t,new.target.prototype)}return e.prototype=t.prototype,e})(DocumentFragment)){#t;#e;constructor(t){const e=[...t.childNodes];super(t),this.#t=e,this.#e=e.length,b=!0}get firstChild(){return this.#t[0]}get lastChild(){return this.#t.at(-1)}get parentNode(){return this.#t[0].parentNode}remove(){h(this,!1)}replaceWith(t){h(this,!0).replaceWith(t)}valueOf(){return this.childNodes.length!==this.#e&&this.replaceChildren(...this.#t),this}}const f=(t,e,n,s="")=>({t:t,p:e,u:n,n:s}),v=t=>({s:t,t:null,n:null,d:c}),y=(t,e,n)=>t.setAttribute(e,n),w=(t,e)=>t.removeAttribute(e),$=()=>S;let k;const x=(t,e,n)=>{n=n.slice(1),k||(k=new WeakMap);const s=k.get(t)||d(k,t,{});let l=s[n];return l&&l[0]&&t.removeEventListener(n,...l),l=a(e)?e:[e,!1],s[n]=l,l[0]&&t.addEventListener(n,...l),e};function C(t,e){const n=this.n||(this.n=t);switch(typeof e){case"string":case"number":case"boolean":n!==t&&n.replaceWith(this.n=t),this.n.data=e;break;case"object":case"undefined":null==e?(this.n=t).data="":this.n=e.valueOf(),n.replaceWith(this.n)}return e}const N=()=>C.bind({n:null}),A=(t,e,n)=>t[n]=e,W=(t,e,n)=>A(t,e,n.slice(1)),M=(t,e,n)=>null==e?(w(t,n),e):A(t,e,n),O=(t,e)=>("function"==typeof e?e(t):e.current=t,e),R=(t,e,n)=>(null==e?w(t,n):y(t,n,e),e),E=(t,e,n)=>(t.toggleAttribute(n.slice(1),e),e),S=(t,e,n,s)=>((t,e,n,s,l)=>{const a=n.length;let r=e.length,o=a,c=0,i=0,d=null;for(;c<r||i<o;)if(r===c){const e=o<a?i?s(n[i-1],-0).nextSibling:s(n[o-i],0):l;for(;i<o;)t.insertBefore(s(n[i++],1),e)}else if(o===i)for(;c<r;)d&&d.has(e[c])||t.removeChild(s(e[c],-1)),c++;else if(e[c]===n[i])c++,i++;else if(e[r-1]===n[o-1])r--,o--;else if(e[c]===n[o-1]&&n[i]===e[r-1]){const l=s(e[--r],-1).nextSibling;t.insertBefore(s(n[i++],1),s(e[c++],-1).nextSibling),t.insertBefore(s(n[--o],1),l),e[r]=n[o]}else{if(!d){d=new Map;let t=i;for(;t<o;)d.set(n[t],t++)}if(d.has(e[c])){const l=d.get(e[c]);if(i<l&&l<o){let a=c,u=1;for(;++a<r&&a<o&&d.get(e[a])===l+u;)u++;if(u>l-i){const a=s(e[c],0);for(;i<l;)t.insertBefore(s(n[i++],1),a)}else t.replaceChild(s(n[i++],1),s(e[c++],-1))}else c++}else t.removeChild(s(e[c++],-1))}return n})(t.parentNode,s,e.length?e:c,m,t),L=new Map([["aria",(t,e)=>{for(const n in e){const s=e[n],l="role"===n?n:`aria-${n}`;null==s?w(t,l):y(t,l,s)}return e}],["class",(t,e)=>M(t,e,null==e?"class":"className")],["data",(t,e)=>{const{dataset:n}=t;for(const t in e)null==e[t]?delete n[t]:n[t]=e[t];return e}],["ref",O],["style",(t,e)=>null==e?M(t,e,"style"):A(t.style,e,"cssText")]]),B=(t,e,n)=>{switch(e[0]){case".":return W;case"?":return E;case"@":return x;default:return n||"ownerSVGElement"in t?"ref"===e?O:R:L.get(e)||(e in t?e.startsWith("on")?A:((t,e)=>{let n;do{n=o(t,e)}while(!n&&(t=r(t)));return n})(t,e)?.set?M:R:R)}},T=(t,e)=>(t.textContent=null==e?"":e,e),j=(t,e)=>e.reduceRight(z,t),z=(t,e)=>t.childNodes[e];var I=t=>(e,n)=>{const{c:s,e:l,l:a}=t(e,n),r=s.cloneNode(!0);let o,i,d=l.length,u=d?l.slice(0):c;for(;d--;){const{t:t,p:e,u:n,n:s}=l[d],a=e===i?o:o=j(r,i=e);u[d]=(null,p=8===t?n():n,{v:null,u:p,t:a,n:s})}var p;return((t,e)=>({n:t,d:e}))(1===a?r.firstChild||o:new g(r),u)};const P=/^(?:plaintext|script|style|textarea|title|xmp)$/i,q=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i,D=/<([a-zA-Z0-9]+[a-zA-Z0-9:._-]*)([^>]*?)(\/?)>/g,F=/([^\s\\>"'=]+)\s*=\s*(['"]?)\x01/g,Z=/[\x01\x02]/g;let G,H,U=document.createElement("template");var V=(t,e)=>{if(e)return G||(G=document.createElementNS("http://www.w3.org/2000/svg","svg"),H=i(),H.selectNodeContents(G)),H.createContextualFragment(t);U.innerHTML=t;const{content:n}=U;return U=U.cloneNode(!1),n};const _=t=>{const e=[];let n;for(;n=t.parentNode;)e.push(e.indexOf.call(n.childNodes,t)),t=n;return e},J=(t,e,n)=>{const s=V(((t,e,n)=>{let s=0;return t.join("").trim().replace(D,((t,e,s,l)=>`<${e}${s.replace(F,"=$2$1").trimEnd()}${l?n||q.test(e)?" /":`></${e}`:""}>`)).replace(Z,(t=>""===t?`\x3c!--${e+s++}--\x3e`:e+s++))})(t,Q,n),n),{length:l}=t;let r=!1,o=c;if(l>1){const t=document.createTreeWalker(s,129),c=[];let i=0,d=`${Q}${i++}`;for(o=[];i<l;){const s=t.nextNode();if(8===s.nodeType){if(s.data===d){let t=a(e[i-1])?$:N;t===N?c.push(s):r=!0,o.push(f(8,_(s),t)),d=`${Q}${i++}`}}else{let t;for(;s.hasAttribute(d);){t||(t=_(s));const e=s.getAttribute(d);o.push(f(2,t,B(s,e,n),e)),w(s,d),d=`${Q}${i++}`}P.test(s.localName)&&s.textContent.trim()===`\x3c!--${d}--\x3e`&&(o.push(f(3,t||_(s),T)),d=`${Q}${i++}`)}}for(i=0;i<c.length;i++)c[i].replaceWith(document.createTextNode(""))}const i=s.childNodes.length;return d(K,t,((t,e,n)=>({c:t,e:e,l:n}))(s,o,1===i&&r?0:i))},K=new WeakMap,Q="isµ";var X=t=>(e,n)=>K.get(e)||J(e,n,t);const Y=I(X(!1)),tt=I(X(!0)),et=(t,{s:e,t:n,v:s})=>{if(t.t!==n){const{n:l,d:a}=(e?tt:Y)(n,s);t.t=n,t.n=l,t.d=a,s.length&&(t.s=[])}const{d:l,s:a}=t;for(let t=0;t<l.length;t++){const e=l[t];let{v:n,u:r,t:o,n:i}=e,d=s[t];r===T||i?(a[t]=null,d!==n&&(e.v=r(o,d,i,n))):r===S?(nt(a[t]||(a[t]=v([])),d),e.v=r(o,d,i,n||c)):d!==n&&(e.v=r(o,d instanceof st?et(a[t]||(a[t]=v(c)),d):d,i,n))}return t.n},nt=({s:t},e)=>{const{length:n}=e;for(let s=0;s<n;s++){const n=e[s];n instanceof st?e[s]=et(t[s]||(t[s]=v(c)),n):t[s]=null}n<t.length&&t.splice(n)};class st{constructor(t,e,n){this.s=t,this.t=e,this.v=n}}
/*! (c) Andrea Giammarchi - MIT */const lt=(t=>(e,...n)=>new st(t,e,n))(!1),at=new WeakMap;const rt=new WeakMap,ot=(t=>(e,n)=>{const s=rt.get(e)||d(rt,e,new Map);return s.get(n)||d(s,n,function(e,...n){return et(this,new st(t,e,n))}.bind(v(c)))})(!1);var ct=t=>{const{data:e,selected:n,selectRow:s,removeRow:l}=t;return ot(t)`<table class="table table-hover table-striped test-data" .state="${t}"><tbody>${e.map((({id:t,label:e,html:a})=>a`<tr id="${t}" class="${t===n?"danger":""}"><td class="col-md-1">${t}</td><td class="col-md-4"><a @click="${s}">${e}</a></td><td class="col-md-1"><a @click="${l}"><span class="glyphicon glyphicon-remove" aria-hidden="true"/></a></td><td class="col-md-6"/></tr>`))}</tbody></table>`};const it=((t,e=!1,a=(()=>{}))=>{const r=t||(()=>{}),o=e?s:l;let c=null;const i={data:[],selected:-1,add(){e&&(i.data=i.data.slice(0)),n(1e3,a,i.data),r(i)},clear(){i.data=[],r(i)},run(){n(1e3,a,i.data=[]),r(i)},runLots(){n(1e4,a,i.data=[]),r(i)},swapRows(){e&&(i.data=i.data.slice(0));const{data:t}=i;if(t.length>998){const e=t[1];t[1]=t[998],t[998]=e}r(i)},update(){e&&(i.data=i.data.slice(0));const{data:t}=i;for(let e=0,{length:n}=t;e<n;e+=10)o(t[e],e,t);r(i)},remove(t){e&&(i.data=i.data.slice(0));const{data:n}=i;n.splice(n.findIndex((e=>e.id===t)),1),r(i)},select(t){i.selected=t,r(i)},removeRow({target:t}){const n=+t.closest("tr").id,{data:s}=i;e&&(i.data=s.slice(0)),s.splice(s.findIndex((t=>t.id===n)),1),r(i)},selectRow({target:t}){c&&c.classList.remove("danger"),c=t.closest("tr"),c.classList.add("danger"),i.selected=+c.id}};return i})(ct,!1,ot);((t,e)=>{((t,e,n)=>{const s=at.get(t)||d(at,t,v(c)),l="function"==typeof e?e():e,{n:a}=s,r=l instanceof st?et(s,l):l;a!==r&&t.replaceChildren(s.n=r)})(t,e)
/*! (c) Andrea Giammarchi - MIT */})(document.getElementById("container"),lt`<div class="container">${(({run:t,runLots:e,add:n,update:s,clear:l,swapRows:a})=>lt`<div class="jumbotron"><div class="row"><div class="col-md-6"><h1>µhtml keyed</h1></div><div class="col-md-6"><div class="row"><div class="col-sm-6 smallpad"><button type="button" class="btn btn-primary btn-block" id="run" @click="${t}">Create 1,000 rows</button></div><div class="col-sm-6 smallpad"><button type="button" class="btn btn-primary btn-block" id="runlots" @click="${e}">Create 10,000 rows</button></div><div class="col-sm-6 smallpad"><button type="button" class="btn btn-primary btn-block" id="add" @click="${n}">Append 1,000 rows</button></div><div class="col-sm-6 smallpad"><button type="button" class="btn btn-primary btn-block" id="update" @click="${s}">Update every 10th row</button></div><div class="col-sm-6 smallpad"><button type="button" class="btn btn-primary btn-block" id="clear" @click="${l}">Clear</button></div><div class="col-sm-6 smallpad"><button type="button" class="btn btn-primary btn-block" id="swaprows" @click="${a}">Swap Rows</button></div></div></div></div></div>`)(it)} ${ct(it)} <span class="preloadicon glyphicon glyphicon-remove" aria-hidden="true"/></div>`)}();
